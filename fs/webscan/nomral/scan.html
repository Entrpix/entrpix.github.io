<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Webscan</title>
  <script src="webscan.js"></script>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <script>
      <pre id='content'>
  </pre>
    window.addEventListener('load', async function()
    {
      // logging function
      let log = function(line)
      {
        //console.log(line)
        document.getElementById('content').innerHTML += line + '\n'
      }
    
      let ipsToScan = undefined
      let scan = await webScanAll(
        ipsToScan, // array. if undefined, scan major subnet gateways, then scan live subnets. supports wildcards
        {
          rtc: true,   // use webrtc to detect local ips
          logger: log, // logger callback
          localCallback:   function(ip) { console.log(`local ip callback: ${ip}`)   },
          networkCallback: function(ip) { console.log(`network ip callback: ${ip}`) },
        }
      )
      log(JSON.stringify(scan, null, 2))
      log(`<b><span style='color: tomato;'>local IPs: ${scan.local.join(', ')}</span></b>`)
    })
    </script>
</body>
</html>